<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>paddle_and_ball</title>
    <style media="screen">
    canvas {
        border: 1px black solid;
    }
    </style>
    <script src="ball.js"></script>
    <script src="paddle.js"></script>
    <script src="game.js"></script>
    <script src="block.js"></script>
    <script src="levels.js"></script>
</head>

<body>
    <canvas id="id-canvas" width="500" height="400"></canvas>
<script>
	// wrap console.log for convenience
    var log = console.log.bind(console)

    var imageFromPath = function(path){
    	var img = new Image()
    	img.src = path
    	return img
    }

    var __main = function() {
    	var game = Game()

		var paddle = Paddle()
    	var ball = Ball()

    	game.registration('a', function() {
    		paddle.moveLeft()
    	})

		game.registration('d', function() {
    		paddle.moveRight()
    	})    	

    	game.registration('b', function() {
    		ball.fire()
    	})

    	game.update = function() {
    		ball.move()

    		if (ball.collide(paddle)) {
    			ball.ySpeed *= -1
    		}
    	}
		
		// draw the paddle and the ball
		game.draw = function() {
			game.drawImage(paddle)
			game.drawImage(ball)
		}
    }

    __main()
    
</script>
</body>

</html>